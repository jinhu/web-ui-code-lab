<!DOCTYPE html>

<html><body>
  <element name="x-username-input" constructor="UsernameInputComponent" extends="div">
    <template>
      <div>
        <label for="username">Username:</label>
        <input id="username" name="username" type="text"
               bind-value="username"
               on-change="onUsernameChange($event)">
      </div>
    </template>
    
    <script type="application/dart">
      import 'dart:html';
      import 'package:web_ui/web_ui.dart';
      import 'application.dart' as app;

      class UsernameInputComponent extends WebComponent {
        String username = "username";

        onUsernameChange(Event e) {
          if (!username.isEmpty) {
            app.messageInput.enable();
          } else {
            app.messageInput.disable();
          }
        }
      }
    </script>
  </element>
</body></html>